<template>
    <div class="portal-container">
        <!-- 공통 사이드바 -->
        <div class="sidebar">
            <div class="sidebar-header">
                <img src={logoUrl} alt="WE:GROW" class="sidebar-logo"/>
                <p class="sidebar-tagline">Work Smart, Grow Together</p>
            </div>

            <nav class="sidebar-nav">
                <div class={dashboardNavClass} onclick={navigateToDashboard}>
                    <span class="nav-icon">📊</span>
                    <span>대시보드</span>
                </div>
                <div class={myOfficeNavClass} onclick={navigateToMyOffice}>
                    <span class="nav-icon">🏢</span>
                    <span>나의 오피스</span>
                </div>
                <div class={chargeNavClass} onclick={navigateToCharge}>
                    <span class="nav-icon">💰</span>
                    <span>계약 및 청구</span>
                </div>
                <div class={serviceNavClass} onclick={navigateToService}>
                    <span class="nav-icon">🔧</span>
                    <span>시설 및 민원</span>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">👤</div>
                    <div class="user-info">
                        <p class="user-name">박재정 매니저</p>
                        <p class="user-role">김재웅님의 파트너</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 메인 콘텐츠 영역 -->
        <div class="main-content">
            
            <!-- [TAB 1] 대시보드 -->
            <template if:true={isDashboardTab}>
                <div class="page-header">
                    <div class="header-left">
                        <h1 class="page-title">입주 현황 대시보드</h1>
                        <div class="welcome-badge">
                            <span class="emoji">👋</span>
                            <span>입주 준비가 진행 중입니다</span>
                        </div>
                        <p class="contract-date">목표 입주일: 2024년 10월 25일 (D-12)</p>
                    </div>
                    <button class="btn-action">시설팀 문의하기</button>
                </div>

                <div class="progress-section">
                    <div class="progress-bar-wrapper">
                        <div class="progress-step completed">
                            <div class="step-indicator"></div>
                            <p class="step-label">계약 체결 완료</p>
                        </div>
                        <div class="progress-line completed"></div>
                        <div class="progress-step completed">
                            <div class="step-indicator"></div>
                            <p class="step-label">보증금 확인</p>
                        </div>
                        <div class="progress-line active"></div>
                        <div class="progress-step active">
                            <div class="step-indicator"></div>
                            <p class="step-label">입주 세팅 중</p>
                        </div>
                        <div class="progress-line"></div>
                        <div class="progress-step">
                            <div class="step-indicator"></div>
                            <p class="step-label">최종 점검</p>
                        </div>
                        <div class="progress-line"></div>
                        <div class="progress-step">
                            <div class="step-indicator"></div>
                            <p class="step-label">입주 완료</p>
                        </div>
                    </div>
                </div>

                <div class="cards-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3>계약 공간</h3>
                            <span class="badge-success">계약 완료</span>
                        </div>
                        <div class="card-body">
                            <h2 class="location-title">강남 1호점</h2>
                            <p class="location-detail">3층 301호 (20인실)</p>
                            
                            <div class="info-list">
                                <div class="info-row">
                                    <span class="info-label">출입 카드</span>
                                    <span class="info-value">20장 발급 예정</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">주차 배정</span>
                                    <span class="info-value">무료 2대</span>
                                </div>
                                <div class="info-row">
                                    <span class="info-label">도어락 PW</span>
                                    <span class="info-value">입주 당일 공개</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>이번 달 청구 예정액</h3>
                        </div>
                        <div class="card-body">
                            <h2 class="billing-amount">5,500,000 원</h2>
                            <p class="billing-note">(부가세 포함 VAT Included)</p>
                            
                            <div class="billing-breakdown">
                                <div class="breakdown-row">
                                    <span class="breakdown-label">월 임대료</span>
                                    <span class="breakdown-value">5,000,000 원</span>
                                </div>
                                <div class="breakdown-row">
                                    <span class="breakdown-label">관리비</span>
                                    <span class="breakdown-value">500,000 원</span>
                                </div>
                                <div class="breakdown-row highlight">
                                    <span class="breakdown-label">🎉 입주 청소비 (특별)</span>
                                    <span class="breakdown-value discount">0 원 (면제)</span>
                                </div>
                            </div>
                            <a href="#" class="link-text">견적서/청구서 다운로드</a>
                        </div>
                    </div>

                    <div class="card card-wide">
                        <div class="card-header">
                            <h3>작업 요청 현황</h3>
                        </div>
                        <div class="card-body">
                            <div class="request-list">
                                <div class="request-item">
                                    <div class="request-icon">📝</div>
                                    <div class="request-content">
                                        <h4>입주 전 책상 배치 (20EA)</h4>
                                        <p>마감일: 2024년 10월 24일 (오전 10:00)</p>
                                    </div>
                                    <button class="btn-status active">진행중</button>
                                </div>
                                <div class="request-item">
                                    <div class="request-icon">🔌</div>
                                    <div class="request-content">
                                        <h4>네트워크/IP 세팅</h4>
                                        <p>마감일: 2024년 10월 24일 (오후 2:00)</p>
                                    </div>
                                    <button class="btn-status">대기</button>
                                </div>
                            </div>
                            <button class="btn-add-request">+ 새 민원 신청하기</button>
                        </div>
                    </div>
                </div>
            </template>

            <!-- [TAB 2] 나의 오피스 -->
            <template if:true={isMyOfficeTab}>
                <div class="page-header">
                    <h1 class="page-title">나의 오피스 정보</h1>
                    <span class="status-badge-active">계약 중 (Active)</span>
                </div>

                <div class="office-banner" style={bannerStyle}>
                    <div class="banner-overlay">
                        <h2 class="office-name">강남 1호점 - 301호</h2>
                        <p class="office-type">20인실 전용 오피스 (Private Office)</p>
                    </div>
                </div>

                <div class="office-stats">
                    <div class="stat-item">
                        <p class="stat-label">총 면적</p>
                        <p class="stat-value">85 ㎡</p>
                    </div>
                    <div class="stat-item">
                        <p class="stat-label">수용 인원</p>
                        <p class="stat-value">20 개</p>
                    </div>
                    <div class="stat-item">
                        <p class="stat-label">창문 뷰</p>
                        <p class="stat-value">후면 (View)</p>
                    </div>
                    <div class="stat-item">
                        <p class="stat-label">냉난방</p>
                        <p class="stat-value">개별 제어</p>
                    </div>
                </div>

                <div class="content-grid">
                    <div class="left-column">
                        <div class="info-card">
                            <h3 class="card-title">보안 및 출입 정보</h3>
                            <div class="info-section">
                                <div class="info-row-detail">
                                    <span class="info-icon">🔐</span>
                                    <div class="info-content">
                                        <p class="info-title">도어락 비밀번호</p>
                                        <p class="info-value-large">123456*</p>
                                        <p class="info-note">* 초기 비밀번호입니다. 입주 후 변경해주세요.</p>
                                    </div>
                                    <button class="btn-small">보기</button>
                                </div>
                                <div class="info-row-detail">
                                    <span class="info-icon">📶</span>
                                    <div class="info-content">
                                        <p class="info-title">전용 Wi-Fi</p>
                                        <p class="info-value-wifi">WEGROW_301_5G</p>
                                        <p class="info-note">PW: blue12824</p>
                                    </div>
                                </div>
                            </div>
                            <div class="progress-bar-mini">
                                <div class="progress-fill" style="width: 75%;"></div>
                            </div>
                            <p class="progress-note">출입 카드 현황: 24장 발급완료</p>
                            <p class="info-note-small">* 추가 발급은 '시설 및 민원' 탭에서 신청하세요.</p>
                        </div>

                        <div class="info-card">
                            <div class="card-header-row">
                                <h3 class="card-title">공간 배치도</h3>
                                <a href="#" class="link-text">PDF 다운로드</a>
                            </div>
                            <div class="layout-placeholder">
                                <p>301호 평면도 미리보기</p>
                            </div>
                        </div>
                    </div>

                    <div class="right-column">
                        <div class="info-card">
                            <h3 class="card-title">계약 요약</h3>
                            <div class="contract-info">
                                <div class="contract-row">
                                    <span class="contract-label">계약 기간</span>
                                    <span class="contract-value">2024.10.25</span>
                                    <span class="contract-sub">~ 2025.10.24 (1년)</span>
                                </div>
                                <div class="contract-row">
                                    <span class="contract-label">보증금</span>
                                    <span class="contract-value">100,000,000 원</span>
                                </div>
                                <div class="contract-row">
                                    <span class="contract-label">월 이용료</span>
                                    <span class="contract-value">5,500,000 원</span>
                                </div>
                                <div class="contract-row highlight">
                                    <span class="contract-label">재계약 알림</span>
                                    <span class="contract-value warning">D-365</span>
                                </div>
                            </div>
                        </div>

                        <div class="info-card">
                            <h3 class="card-title">시설 담당자</h3>
                            <div class="facility-team">
                                <div class="team-member">
                                    <div class="member-icon">👤</div>
                                    <div class="member-info">
                                        <p class="member-name">이민수 주임</p>
                                        <p class="member-role">Facility Team</p>
                                    </div>
                                </div>
                                <p class="contact-info">📞 02-1234-5678</p>
                                <button class="btn-primary-full">1:1 문의하기</button>
                            </div>
                        </div>
                    </div>
                </div>
            </template>

            <!-- [TAB 3] 계약 및 청구 -->
            <template if:true={isChargeTab}>
                <div class="page-header">
                    <h1 class="page-title">계약 및 청구 관리</h1>
                    <button class="btn-download">전자계약서(PDF) 다운로드</button>
                </div>

                <div class="contract-header-card">
                    <div class="contract-info-section">
                        <h2 class="contract-main-title">강남 1호점 20인실 임대 계약</h2>
                        <span class="status-badge active">Active (계약 중)</span>
                        <p class="contract-subtitle">계약 번호: CTR-2024-0315 • 계약일: 2024.10.12</p>
                    </div>
                    <div class="contract-details-grid">
                        <div class="detail-box">
                            <p class="detail-label">계약 기간</p>
                            <p class="detail-value">2024.10.25 ~ 2025.10.24</p>
                            <p class="detail-link highlight">재계약 협상 가능 (D-330)</p>
                        </div>
                        <div class="detail-box">
                            <p class="detail-label">보증금 (Deposit)</p>
                            <p class="detail-value">100,000,000 원</p>
                            <p class="detail-link success">납부 완료 (Paid)</p>
                        </div>
                        <div class="detail-box">
                            <p class="detail-label">월 이용료 (Monthly)</p>
                            <p class="detail-value">5,500,000 원</p>
                            <p class="detail-note">(부가세 포함)</p>
                        </div>
                        <div class="detail-box">
                            <p class="detail-label">납부일</p>
                            <p class="detail-value">매월 25일</p>
                            <p class="detail-note">(익월 결제)</p>
                        </div>
                    </div>
                </div>

                <div class="content-grid charge-grid">
                    <div class="billing-section">
                        <div class="section-header-row">
                            <h3>청구 및 납부 내역</h3>
                            <select class="year-selector">
                                <option>2024년</option>
                                <option>2023년</option>
                            </select>
                        </div>

                        <table class="billing-table">
                            <thead>
                                <tr>
                                    <th>청구월</th>
                                    <th>청구 금액</th>
                                    <th>납부 기한</th>
                                    <th>상태</th>
                                    <th>영수증</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="urgent">
                                    <td>2024년 11월분</td>
                                    <td>5,500,000 원</td>
                                    <td class="due-date">2024.10.25 (D-1)</td>
                                    <td><span class="status-tag unpaid">미납 (Unpaid)</span></td>
                                    <td><a href="#" class="link-pdf">PDF 보기</a></td>
                                </tr>
                                <tr>
                                    <td>2024년 10월분</td>
                                    <td>5,500,000 원</td>
                                    <td>2024.09.25</td>
                                    <td><span class="status-tag paid">납부 완료</span></td>
                                    <td><a href="#" class="link-pdf">PDF 보기</a></td>
                                </tr>
                                <tr>
                                    <td>보증금 (Deposit)</td>
                                    <td>100,000,000 원</td>
                                    <td>2024.10.12</td>
                                    <td><span class="status-tag paid">납부 완료</span></td>
                                    <td><a href="#" class="link-pdf">PDF 보기</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="info-section">
                        <div class="info-card">
                            <h3 class="card-title">납부 계좌 정보</h3>
                            <div class="account-info-highlight">
                                <p class="account-label">입금 가상계좌 (Virtual Account)</p>
                                <p class="account-number">우리 1002-123-456789</p>
                                <p class="account-holder">예금주: (주)위그로우_블루테크</p>
                            </div>
                            <p class="info-note warning-text">
                                * 납부 기한이 지난 경우, 익월 10일까지 미납 시 연체료가 부과될 수 있습니다.
                            </p>
                            <p class="info-note">
                                납부 기한 경과 시 3영업일 이내 연체료 12%가 부과될 수 있습니다.
                            </p>
                        </div>

                        <div class="info-card">
                            <div class="card-header-row">
                                <h3 class="card-title">세금계산서 정보</h3>
                                <a href="#" class="link-edit">수정 요청</a>
                            </div>
                            <div class="tax-info">
                                <div class="tax-row">
                                    <span class="tax-label">사업자 번호</span>
                                    <span class="tax-value">120-81-12345</span>
                                </div>
                                <div class="tax-row">
                                    <span class="tax-label">상호명</span>
                                    <span class="tax-value">(주)블루테크</span>
                                </div>
                                <div class="tax-row">
                                    <span class="tax-label">대표자</span>
                                    <span class="tax-value">김대표</span>
                                </div>
                                <div class="tax-row">
                                    <span class="tax-label">수신 이메일</span>
                                    <span class="tax-value">finance@bluetech.com</span>
                                </div>
                            </div>
                        </div>

                        <div class="info-card">
                            <h3 class="card-title">청산 문의</h3>
                            <p class="info-note">09:00 - 18:00 (평일)</p>
                        </div>
                    </div>
                </div>
            </template>

            <!-- [TAB 4] 시설 및 민원 -->
            <template if:true={isServiceTab}>
                <div class="page-header">
                    <h1 class="page-title">새로운 민원 접수</h1>
                </div>

                <div class="service-form-container">
                    <div class="form-header">
                        <h2 class="form-title">무엇을 도와드릴까요?</h2>
                        <p class="form-subtitle">시설 수리, 청소 요청, 출입카드 발급 등 필요한 사항을 남겨주시면 담당자가 신속히 처리해 드립니다.</p>
                    </div>

                    <div class="form-content">
                        <div class="form-row">
                            <div class="form-group half">
                                <label class="form-label required">문의 유형</label>
                                <select class="form-select">
                                    <option>유형을 선택해주세요</option>
                                    <option>시설 수리</option>
                                    <option>청소 요청</option>
                                    <option>출입카드 발급</option>
                                    <option>네트워크/IT</option>
                                    <option>기타 문의</option>
                                </select>
                            </div>
                            <div class="form-group half">
                                <label class="form-label">위치 (호실)</label>
                                <input type="text" class="form-input" placeholder="강남 1호점 - 301호 (현재 입주 중)" disabled/>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label required">제목</label>
                            <input type="text" class="form-input" placeholder="예: 화의실 에어컨 작동이 안 됩니다."/>
                        </div>

                        <div class="form-group">
                            <label class="form-label required">상세 내용</label>
                            <textarea class="form-textarea" rows="6" placeholder="구체적인 증상이나 요청 사항을 작성해주세요. (날짜, 시간, 위치, 특이사항 등)"></textarea>
                        </div>

                        <div class="urgent-notice">
                            <input type="checkbox" id="urgent" class="checkbox-input"/>
                            <label for="urgent" class="checkbox-label urgent-label">긴급 처리 요청</label>
                            <p class="urgent-note">당일에 긴급한 처리가 필요하나 안전과 관련된 사항에 있는 경우 체크해주세요.</p>
                        </div>

                        <div class="form-group">
                            <label class="form-label">첨부 파일</label>
                            <div class="file-upload-area">
                                <div class="upload-icon">📎</div>
                                <p class="upload-text">클릭하여 업로드하거나 파일을 드래그하세요</p>
                                <p class="upload-note">PNG, JPG, PDF (최대 10MB)</p>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn-cancel">취소하고 돌아가기</button>
                            <button class="btn-submit">민원 접수하기</button>
                        </div>
                    </div>
                </div>
            </template>

        </div>
    </div>
</template>
