# Customer Portal 데이터 매핑 가이드

포털에 데이터가 보이려면 Salesforce에서 아래 레코드들을 설정해야 합니다.

---

## 📋 레코드 설정 순서

### 1️⃣ Account (입주사) 생성

| 필드           | API Name                 | 예시 값         | 포털 표시 위치                  |
| -------------- | ------------------------ | --------------- | ------------------------------- |
| 계정 이름      | `Name`                   | 블루테크        | 사이드바 회사명, 계약 탭 상호명 |
| 사업자등록번호 | `Biz_Reg_No__c` | 123-45-67890    | 계약 탭 세금계산서 정보         |
| 유형           | `Type`                   | 입주사 (Tenant) | -                               |

---

### 2️⃣ Contact (로그인 사용자) 생성

| 필드          | API Name      | 예시 값          | 포털 표시 위치    |
| ------------- | ------------- | ---------------- | ----------------- |
| 이름          | `Name`        | 홍길동           | 사이드바 사용자명 |
| 이메일        | `Email`       | user@company.com | 로그인 ID         |
| 비밀번호      | `Password__c` | password123      | 로그인 비밀번호   |
| **계정 이름** | `AccountId`   | **블루테크** ⭐  | 데이터 연결 핵심! |

> ⚠️ **중요**: Contact의 `AccountId`가 Asset의 `AccountId`와 **동일해야** 데이터가 조회됩니다!

---

### 3️⃣ Account (지점) 생성

| 필드      | API Name | 예시 값        | 포털 표시 위치             |
| --------- | -------- | -------------- | -------------------------- |
| 계정 이름 | `Name`   | WE-GROW 강남점 | 대시보드/나의오피스 지점명 |
| 유형      | `Type`   | 지점 (Branch)  | -                          |

---

### 4️⃣ Contract (계약) 생성

| 필드             | API Name                  | 예시 값    | 포털 표시 위치      |
| ---------------- | ------------------------- | ---------- | ------------------- |
| 계정 이름        | `AccountId`               | 블루테크   | -                   |
| 계약 시작 날짜   | `StartDate`               | 2024-01-01 | 계약 기간 시작      |
| 계약 종료 날짜   | `EndDate`                 | 2025-12-31 | 계약 기간 끝, D-Day |
| 최종 결제 금액   | `Total_Payment_Amount__c` | 5500000    | 월 이용료           |
| 최종 보증금 금액 | `Total_Deposit_Amount__c` | 10000000   | 보증금              |
| 납부 주기        | `Billing_Cycle__c`        | Monthly    | 납부일 표시         |

---

### 5️⃣ Asset (입주 공간) 생성 ⭐ 핵심!

| 필드             | API Name           | 예시 값         | 포털 표시 위치             |
| ---------------- | ------------------ | --------------- | -------------------------- |
| 자산 이름        | `Name`             | 301호           | 호실명                     |
| **계정**         | `AccountId`        | **블루테크** ⭐ | **Contact와 동일해야 함!** |
| 상태             | `Status`           | 입주            | -                          |
| 수용 인원        | `Capacity__c`      | 20              | 인원수 표시                |
| 도어락 비밀번호  | `Door_Lock_PW__c`  | 1234\*#         | 보안 정보                  |
| WiFi SSID        | `WiFi_SSID__c`     | WEGROW_301_5G   | WiFi 이름                  |
| WiFi 비밀번호    | `WiFi_Password__c` | wifi1234        | WiFi PW                    |
| 설치 날짜        | `InstallDate`      | 2024-01-15      | 입주일                     |
| 사용 종료 날짜   | `UsageEndDate`     | 2025-12-31      | -                          |
| **원 소속 지점** | `Home_Branch__c`   | WE-GROW 강남점  | 지점명 표시                |
| **계약서**       | `ContractId__c`    | 00000100        | 계약 정보 연결             |
| 제품             | `Product2Id`       | 프라이빗 오피스 | 오피스 타입명              |

---

## 🔗 데이터 관계도

```
┌──────────────────────────────────────────────────────────┐
│                    Contact (로그인)                        │
│  Name: 홍길동                                              │
│  Email: user@company.com                                  │
│  AccountId: ───────────────┐                              │
└────────────────────────────┼──────────────────────────────┘
                             │
                             ▼
┌──────────────────────────────────────────────────────────┐
│                  Account (입주사)                          │
│  Name: 블루테크                                            │
│  Biz_Reg_No__c: 123-45-67890                    │
└────────────────────────────┬──────────────────────────────┘
                             │
           ┌─────────────────┴─────────────────┐
           ▼                                   ▼
┌─────────────────────────┐      ┌─────────────────────────┐
│       Asset (호실)        │      │     Contract (계약)      │
│  Name: 301호              │      │  ContractNumber: CTR001 │
│  AccountId: 블루테크       │      │  AccountId: 블루테크     │
│  Capacity__c: 20          │◄────│  StartDate: 2024-01-01  │
│  ContractId__c: ──────────┼─────│  EndDate: 2025-12-31    │
│  Home_Branch__c: ─────────┼──┐  │  Total_Payment: 5500000 │
└─────────────────────────┘  │  └─────────────────────────┘
                             │
                             ▼
              ┌─────────────────────────┐
              │    Account (지점)        │
              │  Name: WE-GROW 강남점    │
              │  Type: Branch           │
              └─────────────────────────┘
```

---

## ✅ 체크리스트

- [ ] Contact 생성 (Email, Password\_\_c 입력)
- [ ] Contact.AccountId = 입주사 Account로 설정
- [ ] Asset 생성 및 같은 Account에 연결
- [ ] Asset.Home_Branch\_\_c = 지점 Account로 설정
- [ ] Contract 생성 및 같은 Account에 연결
- [ ] Asset.ContractId\_\_c = 생성한 Contract로 설정
